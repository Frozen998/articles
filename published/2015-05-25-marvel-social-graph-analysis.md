# 漫威超级英雄社群图谱分析

我从小看漫画长大，当我还是小孩儿的时候就已经沦为超级英雄的铁杆粉丝了，尼尔盖曼、阿兰·摩尔、沃伦·埃利斯、阿特·斯皮格曼是我最喜欢的作者。于是当我发现漫画社交图谱数据集的时候，就迫不及待地想挖掘一下各个角色之间是怎样的相互影响的。

所谓的漫画数据集由同时出现的超级英雄的列表构成。举个例子来说，每次蜘蛛侠和美国队长同时出现在某一集漫画里面的时候，我们就把他们的名字列在一起。为了说明这一点，我们来看一个数据集。

![](http://www.dataiku.com/static/img/blog/marvel/marvel_dataset.png)

由于关联的存在，我们可以利用这些信息创建一个图表。每一个节点代表一个人物，而节点之间的连线表示他们的名字同时出现过。

## 图形的初步形成：

本文所有的网络结构分析都是基于Python的（大多数采用networkx 包），我们采用sigmajs来构建一系列小的网络应用，以实现网络结构的可视化。下图是漫威社群网络的一个初步可视化结果。图中节点的大小由“度”决定，“度”即相邻节点的个数，节点的颜色用Louvain 方法确定。与此同时，本文采用sigmajs 方法对节点进行了布局安排。
 
![](http://www.dataiku.com/static/img/blog/marvel/marvel_graph_1.jpg)

图（1）

看了上面的图，也许很多人会告诉你，他们对这样的整体图表并不感兴趣，因为整体的图表太难解释。但在这种情况下，我们依然可以验证一些简单的假设：

（1）超级英雄中和其他人物关联度最高的是美国队长、蜘蛛侠、钢铁侠。这些英雄在漫画社群中有非常重要的地位，因为他们往往伴随着超级英雄漫画的开始。

（2）出现了一些有用的聚类：

a.左上方的集群属于雷神集群，底部的绿色集群属于X战警集群，顶部的淡蓝色集群属于蜘蛛侠集群

b.复仇者联盟在图（1）的中心位置，四个较大的橘色的节点对应着神奇4侠

c.特别小的集群出现在这张图的周边，里面有些角色你甚至用维基百科都不能查到

## 修剪图形：

也许我们更想知道漫画社群图中的内部结构，但问题是我们应该怎样对图形进行修剪呢？修剪图形的一种途径是利用边缘权重。事实上，之前我们在绘制图（1）时，节点之间的连线仅是用同时出现进行定义的，然而美国队长和蜘蛛侠同时出现在很多漫画里，所以很多时候将同时出现的次数考虑进去是更为明智的。这也就促使我们考虑边缘权重，将它作为节点的额外信息添加到图形中。在我们的图形中用英雄人物同时出现的次数来作为权重，例如蜘蛛侠和美国队长，他们之间的边缘权重即为他们同时出现在漫画中的次数。
如果我们只保留权重大于K值的边，那么图（1）将得到简化：所有的权重小于K的边会消失。可想而知，K越大图形将越简单，我们得到的图形越接近框架图。图（2）给出了K=10的情况：
 
 ![](http://www.dataiku.com/static/img/blog/marvel/marvel_graph_10.jpg)
 
图（2）

通过图（2）描述漫威世界将变得比较容易。蜘蛛侠、美国队长，雷神三个超级英雄在漫威世界中占有重要的地位。在图（2）的底部左端，出现了X战警相关人物的集群。永恒者、阿尔法战队等一些鲜为人知的英雄团队也被显现出来。此外，钢铁侠、绿巨人、神奇4侠、鹰眼、蚁人、幻视 处于中心集群，这是由于他们一起出现的频率较高。
接着，我们将K的值选定为30。
 
![](http://www.dataiku.com/static/img/blog/marvel/marvel_graph_30.jpg)
 
图（3）

这是漫威世界的主干图，美国队长、绿巨人、海王子、雷神、神奇4侠构成一个大的集群。X战警被分为三个集群，X战警、X世代和新变种人。

##影响者识别

有很多的文献用来判断在网络结构中的影响者（例如Facebook 、Twitter）.为了说明这个问题，许多的网络结构准则被推演出来：中心度、网页排名、接近中心度以及中介中心度等。一个节点的中介中心度是一个非常重要的指标，因为它反映了在网络结构中不直接相连的节点通过该节点后的联通情况。显然，在漫威英雄中美国队长，雷神和绿巨人所有中心性指标都很高。如果我们将K值选为50，那么整个漫威世界的基石将会呈现出来。在图（4）中值得注意的是：野兽，一个X战警中并不是特别显眼的明星（其知名程度远不及金刚狼、风暴女、X教授等），成为了X战警和复仇者们之间的主要连接点。所以当这两大集团为推举一个对抗某恐怖组织网络的超级英雄进行联合商讨，或是组织一场漫威品牌大使的评选时，野兽将是会场主持人的完美候选人。

![](http://www.dataiku.com/static/img/blog/marvel/marvel_graph_50.jpg)
 
图（4）

## 结论：

截至目前，我做了很多挖掘漫威网络关系图中集群和影响者的工作。显然这些分析是非常基本的，接下来我将考虑一些更有意思的工作：

1. 考虑时间因素的影响。我将会探析漫威网络随时间的演化。
2. 用内战中漫威人物的选择来标识角色，我们是否可以预测他们的联盟？
3. 此外我对DC中的英雄人物也非常感兴趣，或许可以做一个类似分析。

原文链接：http://www.dataiku.com/blog/2015/05/19/marvel-social-graph-analysis.html


